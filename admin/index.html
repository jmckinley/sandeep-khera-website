<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">
    <title>Blog Admin | Sandeep Khera</title>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
    <script>
        // Custom YouTube embed preview
        CMS.registerEditorComponent({
            id: "youtube",
            label: "YouTube",
            fields: [
                {
                    name: "id",
                    label: "YouTube Video ID",
                    widget: "string",
                    hint: "The ID from the YouTube URL (e.g., dQw4w9WgXcQ from https://www.youtube.com/watch?v=dQw4w9WgXcQ)"
                }
            ],
            pattern: /^{{< youtube (\S+) >}}$/,
            fromBlock: function(match) {
                return { id: match[1] };
            },
            toBlock: function(obj) {
                return `{{< youtube ${obj.id} >}}`;
            },
            toPreview: function(obj) {
                return `<iframe width="560" height="315" src="https://www.youtube.com/embed/${obj.id}" frameborder="0" allowfullscreen></iframe>`;
            }
        });
    </script>
</body>
</html>
